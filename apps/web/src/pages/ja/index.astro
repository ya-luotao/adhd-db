---
import { getDrugs, getLocalizedValue, getRegions } from '../../lib/data';
import { getLangFromUrl, useTranslations, getLocalizedPath } from '../../i18n/utils';
import '../../styles/tokens.css';

export const prerender = true;

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const l = (value: any) => getLocalizedValue(value, lang);

const drugs = getDrugs();
const regions = getRegions();
const regionCodes = Object.keys(regions.regions);
const stimulants = drugs.filter(d => d.drugClass === 'stimulant');
const nonStimulants = drugs.filter(d => d.drugClass === 'non-stimulant');
const totalApprovals = drugs.reduce((acc, d) => acc + (d.approvals?.filter((a: any) => a.available).length || 0), 0);

const alternates = [
  { lang: 'en', path: '/' },
  { lang: 'zh', path: '/zh/' },
  { lang: 'ja', path: '/ja/' },
  { lang: 'zh-TW', path: '/zh-TW/' },
];
---

<!doctype html>
<html lang={lang}>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&family=DM+Sans:opsz,wght@9..40,400;9..40,500;9..40,600;9..40,700&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet" />
    <meta name="generator" content={Astro.generator} />
    <title>ADHD-DB | Global ADHD Medication Database</title>
    {alternates.map(({ lang: l, path }) => (
      <link rel="alternate" hreflang={l} href={path} />
    ))}
  </head>
  <body>
    <div class="page">
      <!-- Navigation -->
      <nav class="nav">
        <a href="/" class="nav-logo">
          <span class="logo-mark">◆</span>
          <span class="logo-text">ADHD-DB</span>
        </a>
        <div class="nav-links">
          <a href={getLocalizedPath('/data/drugs', lang)}>Database</a>
          <a href={getLocalizedPath('/tools/region-checker', lang)}>Tools</a>
          <a href={getLocalizedPath('/travel', lang)}>Travel</a>
          <a href="https://github.com/ya-luotao/adhd-db" target="_blank" rel="noopener">GitHub</a>
        </div>
        <div class="nav-lang">
          {alternates.map(({ lang: code, path }) => (
            <a href={path} class:list={['lang-link', { active: lang === code }]}>
              {code === 'en' ? 'EN' : code === 'zh' ? '中文' : code === 'zh-TW' ? '繁體' : '日本語'}
            </a>
          ))}
        </div>
      </nav>

      <!-- Hero Section -->
      <header class="hero">
        <div class="hero-content">
          <div class="hero-stamp">
            <span class="stamp-border">
              <span class="stamp-text">ADHD<br/>DATABASE</span>
            </span>
          </div>
          <p class="hero-eyebrow">Open Source Database</p>
          <h1 class="hero-title">
            <span class="title-line">Global ADHD</span>
            <span class="title-line">Medication</span>
            <span class="title-line title-accent">Reference</span>
          </h1>
          <p class="hero-desc">
            Comprehensive database of ADHD medications with regulatory approvals,
            formulations, and availability across {regionCodes.length} regions worldwide.
          </p>
          <div class="hero-actions">
            <a href={getLocalizedPath('/data/drugs', lang)} class="btn-primary">
              Explore Database
              <span class="btn-arrow">→</span>
            </a>
            <a href={getLocalizedPath('/tools/region-checker', lang)} class="btn-secondary">
              Region Checker
            </a>
          </div>
        </div>

        <div class="hero-stats">
          <div class="stat-ring">
            <div class="stat-main">
              <span class="stat-value">{drugs.length}</span>
              <span class="stat-label">Medications</span>
            </div>
            <div class="stat-secondary">
              <div class="stat-item stat-stimulant">
                <span class="stat-num">{stimulants.length}</span>
                <span class="stat-name">Stimulants</span>
              </div>
              <div class="stat-item stat-nonstim">
                <span class="stat-num">{nonStimulants.length}</span>
                <span class="stat-name">Non-Stimulants</span>
              </div>
              <div class="stat-item stat-regions">
                <span class="stat-num">{regionCodes.length}</span>
                <span class="stat-name">Regions</span>
              </div>
              <div class="stat-item stat-approvals">
                <span class="stat-num">{totalApprovals}</span>
                <span class="stat-name">Approvals</span>
              </div>
            </div>
          </div>
        </div>
      </header>

      <!-- Drug Matrix Section -->
      <section class="matrix-section">
        <div class="section-header">
          <span class="section-marker"></span>
          <h2 class="section-title">Availability Matrix</h2>
          <span class="section-badge">{drugs.length} drugs × {regionCodes.slice(0, 7).length} regions</span>
        </div>
        <p class="section-desc">Regional approval status at a glance</p>

        <div class="matrix">
          <div class="matrix-header">
            <div class="matrix-drug-col">Drug</div>
            {regionCodes.slice(0, 7).map(code => (
              <div class="matrix-region-col">{code}</div>
            ))}
          </div>
          {drugs.map((drug, idx) => {
            const getStatus = (region: string) => {
              const approval = drug.approvals?.find((a: any) => a.region === region);
              return approval?.available;
            };
            return (
              <a href={getLocalizedPath(`/data/drugs/${drug.id}`, lang)} class="matrix-row" style={`--row-delay: ${idx * 0.05}s`}>
                <div class="matrix-drug">
                  <span class="drug-name">{l(drug.genericName)}</span>
                  <span class="drug-class" data-class={drug.drugClass}>
                    {drug.drugClass === 'stimulant' ? 'STM' : 'NON'}
                  </span>
                </div>
                {regionCodes.slice(0, 7).map(code => (
                  <div class="matrix-cell">
                    <span class:list={['cell-dot', { available: getStatus(code), unavailable: getStatus(code) === false }]}>
                      {getStatus(code) ? '●' : getStatus(code) === false ? '○' : '–'}
                    </span>
                  </div>
                ))}
              </a>
            );
          })}
        </div>

        <div class="matrix-legend">
          <span class="legend-item"><span class="legend-dot available">●</span> Available</span>
          <span class="legend-item"><span class="legend-dot unavailable">○</span> Not Available</span>
          <span class="legend-item"><span class="legend-dot">–</span> No Data</span>
        </div>
      </section>

      <!-- Quick Access Cards -->
      <section class="cards-section">
        <div class="section-header centered">
          <span class="section-marker"></span>
          <h2 class="section-title">Quick Access</h2>
        </div>

        <div class="card-grid">
          <a href={getLocalizedPath('/data/drugs', lang)} class="access-card">
            <div class="card-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M10.5 20.5L3.5 13.5C2.1 12.1 2.1 9.9 3.5 8.5L8.5 3.5C9.9 2.1 12.1 2.1 13.5 3.5L20.5 10.5C21.9 11.9 21.9 14.1 20.5 15.5L15.5 20.5C14.1 21.9 11.9 21.9 10.5 20.5Z"></path>
                <line x1="8.5" y1="8.5" x2="15.5" y2="15.5"></line>
              </svg>
            </div>
            <div class="card-content">
              <h3>Drug Database</h3>
              <p>Browse all {drugs.length} ADHD medications with detailed formulations, pharmacology, and regional data.</p>
            </div>
            <span class="card-arrow">→</span>
          </a>

          <a href={getLocalizedPath('/data/categories', lang)} class="access-card">
            <div class="card-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="3" width="7" height="7"></rect>
                <rect x="14" y="3" width="7" height="7"></rect>
                <rect x="14" y="14" width="7" height="7"></rect>
                <rect x="3" y="14" width="7" height="7"></rect>
              </svg>
            </div>
            <div class="card-content">
              <h3>Categories</h3>
              <p>Drug classification by mechanism of action and therapeutic categories.</p>
            </div>
            <span class="card-arrow">→</span>
          </a>

          <a href={getLocalizedPath('/tools/region-checker', lang)} class="access-card">
            <div class="card-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="2" y1="12" x2="22" y2="12"></line>
                <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
              </svg>
            </div>
            <div class="card-content">
              <h3>Region Checker</h3>
              <p>Find which medications are available in your country or compare across regions.</p>
            </div>
            <span class="card-arrow">→</span>
          </a>

          <a href={getLocalizedPath('/travel', lang)} class="access-card">
            <div class="card-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
              </svg>
            </div>
            <div class="card-content">
              <h3>Travel Guide</h3>
              <p>Cross-border medication rules and requirements for international travel.</p>
            </div>
            <span class="card-arrow">→</span>
          </a>
        </div>
      </section>

      <!-- Contribute Section -->
      <section class="contribute-section">
        <div class="contribute-content">
          <span class="contribute-eyebrow">Open Source</span>
          <h2>Community Driven</h2>
          <p>
            ADHD-DB is a free, open-source project. Help improve medication data accuracy,
            add new drugs, or expand regional coverage.
          </p>
          <a href="https://github.com/ya-luotao/adhd-db" target="_blank" rel="noopener" class="contribute-btn">
            Contribute on GitHub
            <span class="btn-arrow">→</span>
          </a>
        </div>
        <div class="contribute-visual">
          <div class="code-block">
            <div class="code-header">
              <span class="code-dot"></span>
              <span class="code-dot"></span>
              <span class="code-dot"></span>
              <span class="code-file">methylphenidate.yaml</span>
            </div>
            <pre class="code-content"><code>id: methylphenidate
genericName:
  en: Methylphenidate
  zh: 哌醋甲酯
drugClass: stimulant
approvals:
  - region: US
    available: true
  - region: CN
    available: true</code></pre>
          </div>
        </div>
      </section>

      <!-- Footer -->
      <footer class="footer">
        <div class="footer-content">
          <div class="footer-brand">
            <span class="logo-mark">◆</span>
            <span class="logo-text">ADHD-DB</span>
          </div>
          <p class="footer-disclaimer">
            This database is for informational purposes only. Always consult healthcare
            professionals for medical advice.
          </p>
          <div class="footer-links">
            <a href="https://github.com/ya-luotao/adhd-db" target="_blank">GitHub</a>
            <span class="footer-sep">·</span>
            <a href={getLocalizedPath('/data/drugs', lang)}>Database</a>
            <span class="footer-sep">·</span>
            <a href={getLocalizedPath('/travel', lang)}>Travel Guide</a>
          </div>
        </div>
      </footer>
    </div>
  </body>
</html>

<style>
  /* Reset & Base */
  *, *::before, *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  html { scroll-behavior: smooth; }

  body {
    font-family: 'DM Sans', -apple-system, sans-serif;
    background: #fdfcfa;
    color: #1a1a2e;
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
  }

  /* Variables - Dossier Theme */
  .page {
    --dossier-bg: #fdfcfa;
    --dossier-paper: #fffef9;
    --dossier-border: #e8e4dc;
    --dossier-accent: #1a1a2e;
    --dossier-muted: #8b8680;
    --dossier-gold: #c4a052;
    --dossier-cream: #f5f2eb;
    --dossier-ink: #2c2c2c;
    --stimulant: #ef4444;
    --non-stimulant: #3b82f6;
  }

  /* Navigation */
  .nav {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1.5rem 4rem;
    position: sticky;
    top: 0;
    background: rgba(253, 252, 250, 0.95);
    backdrop-filter: blur(12px);
    z-index: 100;
    border-bottom: 1px solid var(--dossier-border);
  }

  .nav-logo {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    text-decoration: none;
    color: var(--dossier-accent);
  }

  .logo-mark {
    color: var(--dossier-gold);
    font-size: 1.25rem;
  }

  .logo-text {
    font-family: 'DM Mono', monospace;
    font-weight: 500;
    font-size: 1rem;
    letter-spacing: -0.02em;
  }

  .nav-links {
    display: flex;
    gap: 2.5rem;
  }

  .nav-links a {
    text-decoration: none;
    color: var(--dossier-muted);
    font-size: 0.9rem;
    font-weight: 500;
    transition: color 0.2s;
  }

  .nav-links a:hover {
    color: var(--dossier-gold);
  }

  .nav-lang {
    display: flex;
    gap: 0.25rem;
  }

  .lang-link {
    padding: 0.4rem 0.75rem;
    font-size: 0.75rem;
    font-weight: 500;
    text-decoration: none;
    color: var(--dossier-muted);
    border-radius: 4px;
    transition: all 0.2s;
  }

  .lang-link:hover {
    color: var(--dossier-gold);
    background: rgba(196, 160, 82, 0.1);
  }

  .lang-link.active {
    color: white;
    background: var(--dossier-gold);
  }

  /* Hero Section */
  .hero {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 4rem;
    padding: 5rem 4rem 6rem;
    min-height: 80vh;
    align-items: center;
    background: var(--dossier-paper);
    border-bottom: 4px solid var(--dossier-gold);
  }

  .hero-stamp {
    margin-bottom: 1.5rem;
  }

  .stamp-border {
    display: inline-flex;
    width: 70px;
    height: 70px;
    border: 2px dashed var(--dossier-gold);
    border-radius: 50%;
    align-items: center;
    justify-content: center;
    transform: rotate(-12deg);
    opacity: 0.8;
  }

  .stamp-border .stamp-text {
    font-family: 'DM Mono', monospace;
    font-size: 0.45rem;
    font-weight: 700;
    letter-spacing: 0.08em;
    color: var(--dossier-gold);
    text-align: center;
    line-height: 1.4;
  }

  .hero-eyebrow {
    font-family: 'DM Mono', monospace;
    font-size: 0.7rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.2em;
    color: var(--dossier-gold);
    margin-bottom: 1rem;
  }

  .hero-title {
    font-family: 'Cormorant Garamond', serif;
    font-size: 4rem;
    font-weight: 500;
    line-height: 1.1;
    margin-bottom: 1.5rem;
    color: var(--dossier-accent);
  }

  .title-line {
    display: block;
  }

  .title-accent {
    font-style: italic;
    color: var(--dossier-gold);
  }

  .hero-desc {
    font-size: 1.1rem;
    color: var(--dossier-muted);
    max-width: 480px;
    margin-bottom: 2rem;
    line-height: 1.7;
  }

  .hero-actions {
    display: flex;
    gap: 1rem;
  }

  .btn-primary {
    display: inline-flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1rem 1.75rem;
    background: var(--dossier-gold);
    color: white;
    text-decoration: none;
    font-weight: 600;
    font-size: 0.95rem;
    border-radius: 4px;
    transition: all 0.2s;
  }

  .btn-primary:hover {
    background: #b08d42;
    transform: translateY(-2px);
  }

  .btn-arrow {
    transition: transform 0.2s;
  }

  .btn-primary:hover .btn-arrow {
    transform: translateX(4px);
  }

  .btn-secondary {
    display: inline-flex;
    align-items: center;
    padding: 1rem 1.75rem;
    background: transparent;
    color: var(--dossier-accent);
    text-decoration: none;
    font-weight: 600;
    font-size: 0.95rem;
    border: 1px solid var(--dossier-border);
    border-radius: 4px;
    transition: all 0.2s;
  }

  .btn-secondary:hover {
    border-color: var(--dossier-gold);
    color: var(--dossier-gold);
  }

  /* Hero Stats */
  .hero-stats {
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .stat-ring {
    position: relative;
    width: 340px;
    height: 340px;
    border: 2px solid var(--dossier-border);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--dossier-paper);
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.04);
  }

  .stat-ring::before {
    content: '';
    position: absolute;
    inset: 20px;
    border: 1px dashed var(--dossier-border);
    border-radius: 50%;
  }

  .stat-main {
    text-align: center;
  }

  .stat-value {
    display: block;
    font-family: 'Cormorant Garamond', serif;
    font-size: 5rem;
    font-weight: 600;
    color: var(--dossier-gold);
    line-height: 1;
  }

  .stat-label {
    display: block;
    font-family: 'DM Mono', monospace;
    font-size: 0.7rem;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    color: var(--dossier-muted);
    margin-top: 0.5rem;
  }

  .stat-secondary {
    position: absolute;
    inset: 0;
  }

  .stat-item {
    position: absolute;
    text-align: center;
    background: var(--dossier-paper);
    padding: 0.6rem 0.9rem;
    border-radius: 6px;
    border: 1px solid var(--dossier-border);
    min-width: 85px;
  }

  .stat-item:nth-child(1) { top: -15px; left: 50%; transform: translateX(-50%); }
  .stat-item:nth-child(2) { right: -25px; top: 50%; transform: translateY(-50%); }
  .stat-item:nth-child(3) { bottom: -15px; left: 50%; transform: translateX(-50%); }
  .stat-item:nth-child(4) { left: -25px; top: 50%; transform: translateY(-50%); }

  .stat-num {
    display: block;
    font-family: 'Cormorant Garamond', serif;
    font-size: 1.4rem;
    font-weight: 600;
    color: var(--dossier-accent);
  }

  .stat-stimulant .stat-num { color: var(--stimulant); }
  .stat-nonstim .stat-num { color: var(--non-stimulant); }
  .stat-regions .stat-num { color: var(--dossier-gold); }
  .stat-approvals .stat-num { color: var(--dossier-gold); }

  .stat-name {
    display: block;
    font-family: 'DM Mono', monospace;
    font-size: 0.55rem;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: var(--dossier-muted);
    margin-top: 0.2rem;
  }

  /* Section Headers */
  .section-header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 0.5rem;
  }

  .section-header.centered {
    justify-content: center;
    margin-bottom: 2rem;
  }

  .section-marker {
    width: 4px;
    height: 20px;
    background: var(--dossier-gold);
    border-radius: 2px;
  }

  .section-title {
    font-family: 'Cormorant Garamond', serif;
    font-size: 1.75rem;
    font-weight: 600;
    color: var(--dossier-accent);
  }

  .section-badge {
    font-family: 'DM Mono', monospace;
    font-size: 0.65rem;
    font-weight: 500;
    padding: 4px 10px;
    background: var(--dossier-cream);
    border-radius: 2px;
    color: var(--dossier-muted);
    margin-left: auto;
  }

  .section-desc {
    color: var(--dossier-muted);
    font-size: 0.95rem;
    margin-bottom: 1.5rem;
  }

  /* Matrix Section */
  .matrix-section {
    padding: 4rem;
    background: var(--dossier-bg);
    border-bottom: 1px solid var(--dossier-border);
  }

  .matrix {
    max-width: 900px;
    margin: 0 auto;
    border: 1px solid var(--dossier-border);
    border-radius: 4px;
    overflow: hidden;
    background: var(--dossier-paper);
  }

  .matrix-header {
    display: grid;
    grid-template-columns: 200px repeat(7, 1fr);
    background: var(--dossier-cream);
    border-bottom: 1px solid var(--dossier-border);
    padding: 0.75rem 1rem;
  }

  .matrix-drug-col {
    font-family: 'DM Mono', monospace;
    font-weight: 600;
    font-size: 0.65rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--dossier-muted);
  }

  .matrix-region-col {
    text-align: center;
    font-family: 'DM Mono', monospace;
    font-size: 0.7rem;
    font-weight: 600;
    color: var(--dossier-accent);
  }

  .matrix-row {
    display: grid;
    grid-template-columns: 200px repeat(7, 1fr);
    padding: 0.75rem 1rem;
    border-bottom: 1px solid var(--dossier-border);
    text-decoration: none;
    color: inherit;
    transition: background 0.15s;
    animation: fadeInRow 0.4s ease both;
    animation-delay: var(--row-delay);
  }

  @keyframes fadeInRow {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .matrix-row:last-child { border-bottom: none; }

  .matrix-row:hover {
    background: rgba(196, 160, 82, 0.08);
  }

  .matrix-drug {
    display: flex;
    align-items: center;
    gap: 0.75rem;
  }

  .drug-name {
    font-weight: 500;
    font-size: 0.9rem;
    color: var(--dossier-ink);
  }

  .drug-class {
    font-family: 'DM Mono', monospace;
    font-size: 0.55rem;
    font-weight: 600;
    padding: 2px 6px;
    border-radius: 2px;
    background: var(--dossier-cream);
    color: var(--dossier-muted);
  }

  .drug-class[data-class="stimulant"] {
    background: rgba(239, 68, 68, 0.1);
    color: var(--stimulant);
  }

  .drug-class[data-class="non-stimulant"] {
    background: rgba(59, 130, 246, 0.1);
    color: var(--non-stimulant);
  }

  .matrix-cell {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .cell-dot {
    font-size: 0.9rem;
    color: var(--dossier-muted);
  }

  .cell-dot.available {
    color: var(--dossier-gold);
  }

  .cell-dot.unavailable {
    color: var(--dossier-muted);
    opacity: 0.4;
  }

  .matrix-legend {
    display: flex;
    justify-content: center;
    gap: 2rem;
    margin-top: 1.25rem;
  }

  .legend-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.75rem;
    color: var(--dossier-muted);
  }

  .legend-dot { font-size: 0.9rem; }
  .legend-dot.available { color: var(--dossier-gold); }
  .legend-dot.unavailable { opacity: 0.4; }

  /* Cards Section */
  .cards-section {
    padding: 4rem;
    background: var(--dossier-paper);
    border-bottom: 1px solid var(--dossier-border);
  }

  .card-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.25rem;
    max-width: 900px;
    margin: 0 auto;
  }

  .access-card {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    padding: 1.5rem;
    background: var(--dossier-bg);
    border: 1px solid var(--dossier-border);
    border-radius: 4px;
    text-decoration: none;
    color: inherit;
    transition: all 0.2s;
  }

  .access-card:hover {
    border-color: var(--dossier-gold);
    transform: translateY(-3px);
    box-shadow: 0 8px 24px rgba(196, 160, 82, 0.12);
  }

  .card-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 44px;
    height: 44px;
    background: var(--dossier-cream);
    border-radius: 50%;
    color: var(--dossier-gold);
    flex-shrink: 0;
  }

  .card-content h3 {
    font-family: 'Cormorant Garamond', serif;
    font-size: 1.2rem;
    font-weight: 600;
    margin-bottom: 0.35rem;
    color: var(--dossier-accent);
  }

  .card-content p {
    font-size: 0.85rem;
    color: var(--dossier-muted);
    line-height: 1.5;
  }

  .card-arrow {
    margin-left: auto;
    font-size: 1.25rem;
    color: var(--dossier-muted);
    transition: all 0.2s;
    flex-shrink: 0;
  }

  .access-card:hover .card-arrow {
    color: var(--dossier-gold);
    transform: translateX(4px);
  }

  /* Contribute Section */
  .contribute-section {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 4rem;
    padding: 5rem 4rem;
    background: var(--dossier-accent);
    color: white;
  }

  .contribute-eyebrow {
    display: inline-block;
    font-family: 'DM Mono', monospace;
    font-size: 0.65rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.2em;
    color: var(--dossier-gold);
    margin-bottom: 0.75rem;
  }

  .contribute-content h2 {
    font-family: 'Cormorant Garamond', serif;
    font-size: 2.5rem;
    font-weight: 500;
    margin-bottom: 1rem;
  }

  .contribute-content p {
    font-size: 1.05rem;
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 1.5rem;
    line-height: 1.7;
  }

  .contribute-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1rem 1.75rem;
    background: var(--dossier-gold);
    color: white;
    text-decoration: none;
    font-weight: 600;
    font-size: 0.95rem;
    border-radius: 4px;
    transition: all 0.2s;
  }

  .contribute-btn:hover {
    background: #b08d42;
  }

  .contribute-btn:hover .btn-arrow {
    transform: translateX(4px);
  }

  .contribute-visual {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .code-block {
    width: 100%;
    max-width: 380px;
    background: #0d0d0d;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
  }

  .code-header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1rem;
    background: #1a1a1a;
    border-bottom: 1px solid #2a2a2a;
  }

  .code-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: #3a3a3a;
  }

  .code-dot:nth-child(1) { background: #ff5f57; }
  .code-dot:nth-child(2) { background: #febc2e; }
  .code-dot:nth-child(3) { background: #28c840; }

  .code-file {
    margin-left: auto;
    font-family: 'DM Mono', monospace;
    font-size: 0.7rem;
    color: #666;
  }

  .code-content {
    padding: 1rem;
    margin: 0;
    font-family: 'DM Mono', monospace;
    font-size: 0.75rem;
    line-height: 1.7;
    color: #a0a0a0;
    overflow-x: auto;
  }

  .code-content code {
    display: block;
    white-space: pre;
  }

  /* Footer */
  .footer {
    padding: 2.5rem 4rem;
    background: var(--dossier-cream);
    border-top: 1px solid var(--dossier-border);
  }

  .footer-content {
    max-width: 600px;
    margin: 0 auto;
    text-align: center;
  }

  .footer-brand {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 0.75rem;
  }

  .footer-disclaimer {
    font-size: 0.8rem;
    color: var(--dossier-muted);
    margin-bottom: 1rem;
    line-height: 1.6;
  }

  .footer-links {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 0.75rem;
  }

  .footer-links a {
    color: var(--dossier-muted);
    text-decoration: none;
    font-size: 0.8rem;
    transition: color 0.2s;
  }

  .footer-links a:hover {
    color: var(--dossier-gold);
  }

  .footer-sep {
    color: var(--dossier-border);
  }

  /* Responsive */
  @media (max-width: 1024px) {
    .hero {
      grid-template-columns: 1fr;
      gap: 3rem;
      padding: 3rem 2rem 4rem;
      min-height: auto;
    }

    .hero-title { font-size: 3rem; }

    .hero-stats { order: -1; }

    .stat-ring { width: 280px; height: 280px; }
    .stat-value { font-size: 4rem; }
    .stat-item { padding: 0.5rem 0.75rem; min-width: 70px; }
    .stat-num { font-size: 1.2rem; }

    .card-grid { grid-template-columns: 1fr; }

    .contribute-section {
      grid-template-columns: 1fr;
      gap: 2.5rem;
    }
  }

  @media (max-width: 768px) {
    .nav {
      padding: 1rem 1.5rem;
      flex-wrap: wrap;
      gap: 1rem;
    }

    .nav-links { display: none; }
    .nav-lang { gap: 0.125rem; }

    .hero {
      padding: 2rem 1.5rem 2.5rem;
    }

    .hero-title { font-size: 2.2rem; }
    .hero-desc { font-size: 0.95rem; }
    .hero-actions { flex-direction: column; }

    .stat-ring { width: 220px; height: 220px; }
    .stat-value { font-size: 3rem; }

    .stat-item:nth-child(2),
    .stat-item:nth-child(4) { display: none; }

    .matrix-section,
    .cards-section,
    .contribute-section {
      padding: 2.5rem 1.5rem;
    }

    .section-title { font-size: 1.4rem; }

    .matrix { overflow-x: auto; }
    .matrix-header, .matrix-row { min-width: 600px; }

    .contribute-content h2 { font-size: 1.8rem; }

    .footer { padding: 2rem 1.5rem; }
  }

  /* Animations */
  @keyframes slideUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .hero, .matrix-section, .cards-section {
    animation: slideUp 0.5s ease-out;
  }
</style>
